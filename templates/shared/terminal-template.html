<!-- Terminal Template Component -->
<div class="terminal-container" id="terminal-container" role="application" aria-label="Interactive Terminal">
    <!-- Terminal will be dynamically created by terminal.js -->
    
    <!-- Loading state -->
    <div class="terminal-loading" id="terminal-loading">
        <div class="terminal">
            <div class="terminal-header">
                <div class="terminal-controls">
                    <div class="terminal-control close"></div>
                    <div class="terminal-control minimize"></div>
                    <div class="terminal-control maximize"></div>
                </div>
                <div class="terminal-title">devvrat@portfolio:~</div>
                <div></div>
            </div>
            <div class="terminal-output">
                <div class="terminal-line">
                    <span class="terminal-loading-text">Initializing terminal...</span>
                    <span class="terminal-cursor"></span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Terminal Accessibility Instructions -->
<div class="sr-only" id="terminal-instructions">
    <h2>Terminal Instructions</h2>
    <p>This is an interactive terminal interface. You can type commands and press Enter to execute them.</p>
    <p>Use arrow keys to navigate command history. Press Tab for command completion.</p>
    <p>Type 'help' to see available commands.</p>
</div>

<!-- Terminal Command Suggestions (hidden by default) -->
<div class="terminal-suggestions" id="terminal-suggestions" role="listbox" aria-label="Command suggestions">
    <!-- Suggestions will be populated dynamically -->
</div>

<style>
/* Terminal loading styles */
.terminal-loading {
    opacity: 1;
    transition: opacity 0.5s ease-out;
}

.terminal-loading.hidden {
    opacity: 0;
    pointer-events: none;
}

.terminal-loading-text {
    color: #00ff00;
    animation: pulse 2s infinite;
}

/* Screen reader only content */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* Focus management for terminal */
.terminal-container:focus-within .terminal {
    box-shadow: 0 4px 20px rgba(0, 255, 0, 0.2);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .terminal {
        border: 2px solid currentColor;
    }
    
    .terminal-prompt,
    .terminal-response {
        color: currentColor;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .terminal-cursor {
        animation: none;
        opacity: 1;
    }
    
    .terminal-loading-text {
        animation: none;
    }
}
</style>

<script>
// Terminal initialization with error handling
document.addEventListener('DOMContentLoaded', function() {
    try {
        // Hide loading state once terminal is ready
        const loadingElement = document.getElementById('terminal-loading');
        const terminalContainer = document.getElementById('terminal-container');
        
        // Simulate terminal initialization
        setTimeout(() => {
            if (loadingElement) {
                loadingElement.classList.add('hidden');
            }
        }, 1000);
        
        // Add keyboard accessibility
        terminalContainer.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                // Clear any open suggestions
                const suggestions = document.getElementById('terminal-suggestions');
                if (suggestions) {
                    suggestions.style.display = 'none';
                }
            }
        });
        
    } catch (error) {
        console.error('Terminal initialization error:', error);
        
        // Fallback for when JavaScript fails
        const fallbackContent = `
            <div class="terminal-fallback">
                <p>Terminal interface requires JavaScript to function.</p>
                <p>Please enable JavaScript or use the navigation links below:</p>
                <ul>
                    <li><a href="#about">About</a></li>
                    <li><a href="#skills">Skills</a></li>
                    <li><a href="#projects">Projects</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
        `;
        
        document.getElementById('terminal-container').innerHTML = fallbackContent;
    }
});
</script>
